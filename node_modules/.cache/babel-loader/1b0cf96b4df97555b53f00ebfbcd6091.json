{"ast":null,"code":"'use strict';\n\nvar exec = require('child_process').exec;\n\nvar isWindows = process.platform === 'win32';\nvar commandMaker = isWindows ? require('./make-command-win') : require('./make-command-unix');\n\nfunction fixResult(results, dir) {\n  return results.map(function (path) {\n    var index = path.indexOf(dir);\n    return '.\\\\' + path.substr(index);\n  });\n}\n\nmodule.exports = function (callback, argv) {\n  var command = commandMaker(argv);\n  exec(command, function (error, stdout, stderr) {\n    var results = stdout.split('\\n').filter(function (str) {\n      return str !== '';\n    });\n\n    if (error !== null) {\n      callback({\n        error: stderr\n      });\n      return;\n    }\n\n    if (!argv.isAbsolutePath && isWindows) {\n      results = fixResult(results, argv.dir);\n    }\n\n    callback(results);\n  });\n};","map":{"version":3,"names":["exec","require","isWindows","process","platform","commandMaker","fixResult","results","dir","map","path","index","indexOf","substr","module","exports","callback","argv","command","error","stdout","stderr","split","filter","str","isAbsolutePath"],"sources":["/Users/ekaterinapavlova/PycharmProjects/onix/ffmpegwasm.github.io/node_modules/list-files/index.js"],"sourcesContent":["'use strict';\n\nvar exec = require('child_process').exec;\nvar isWindows = process.platform === 'win32';\nvar commandMaker = isWindows\n    ? require('./make-command-win')\n    : require('./make-command-unix');\n\nfunction fixResult (results, dir) {\n    return results.map(function (path) {\n        var index = path.indexOf(dir);\n        return '.\\\\' + path.substr(index);\n    });\n}\n\nmodule.exports = function (callback, argv) {\n    var command = commandMaker(argv);\n\n    exec(command,\n        function(error, stdout, stderr) {\n            var results = stdout.split('\\n').filter(function(str) {\n                return str !== '';\n            });\n            if (error !== null) {\n                callback({\n                    error: stderr\n                });\n                return;\n            }\n            if (!argv.isAbsolutePath && isWindows) {\n                results = fixResult(results, argv.dir)\n            }\n            callback(results);\n        });\n};\n"],"mappings":"AAAA;;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBD,IAApC;;AACA,IAAIE,SAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAArC;AACA,IAAIC,YAAY,GAAGH,SAAS,GACtBD,OAAO,CAAC,oBAAD,CADe,GAEtBA,OAAO,CAAC,qBAAD,CAFb;;AAIA,SAASK,SAAT,CAAoBC,OAApB,EAA6BC,GAA7B,EAAkC;EAC9B,OAAOD,OAAO,CAACE,GAAR,CAAY,UAAUC,IAAV,EAAgB;IAC/B,IAAIC,KAAK,GAAGD,IAAI,CAACE,OAAL,CAAaJ,GAAb,CAAZ;IACA,OAAO,QAAQE,IAAI,CAACG,MAAL,CAAYF,KAAZ,CAAf;EACH,CAHM,CAAP;AAIH;;AAEDG,MAAM,CAACC,OAAP,GAAiB,UAAUC,QAAV,EAAoBC,IAApB,EAA0B;EACvC,IAAIC,OAAO,GAAGb,YAAY,CAACY,IAAD,CAA1B;EAEAjB,IAAI,CAACkB,OAAD,EACA,UAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,EAAgC;IAC5B,IAAId,OAAO,GAAGa,MAAM,CAACE,KAAP,CAAa,IAAb,EAAmBC,MAAnB,CAA0B,UAASC,GAAT,EAAc;MAClD,OAAOA,GAAG,KAAK,EAAf;IACH,CAFa,CAAd;;IAGA,IAAIL,KAAK,KAAK,IAAd,EAAoB;MAChBH,QAAQ,CAAC;QACLG,KAAK,EAAEE;MADF,CAAD,CAAR;MAGA;IACH;;IACD,IAAI,CAACJ,IAAI,CAACQ,cAAN,IAAwBvB,SAA5B,EAAuC;MACnCK,OAAO,GAAGD,SAAS,CAACC,OAAD,EAAUU,IAAI,CAACT,GAAf,CAAnB;IACH;;IACDQ,QAAQ,CAACT,OAAD,CAAR;EACH,CAfD,CAAJ;AAgBH,CAnBD"},"metadata":{},"sourceType":"script"}